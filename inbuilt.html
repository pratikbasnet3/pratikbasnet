<!DOCTYPE html>
<html>
  <head>
  <title>Rock Paper Scissors</title>
  </head>
  <body>
    <p> Rock Paper Scissors</p>
    <button onclick="
    playGame('rock');
    
    ">
      Rock
    </button>
    <button onclick="
    playGame('paper');

    "
    >
      Paper
    </button>
    <button onclick="
    playGame('scissors');
    ">
      Scissors
    </button>

    <button onclick="
    score.wins=0;
    score.losses=0;
    score.ties=0;
    localStorage.removeItem('score');">
      Reset Score
    </button>
    
    <script> 
    let score = JSON.parse(localStorage.getItem('score'));  
    if (score === null){
      score={
        wins:0,
        losses:0,
        ties:0
      };
    }

    /* let score = JSON.parse(localStorage,getItem('score')) || {
      wins:0,
      losses:0,
      ties:0
    };
    */
    // Then using getItem, we took it out and now we should again convert to javascript object. Score is already saved in the local storage, so we are using the javascript object form of localstorage where our score is saved. When we refresh the page, the score gets stored in localstorage and wont start again from the zero. //

    
    
      function playGame(playerMove) {
      
      
      const computerMove=pickComputerMove();
    

    let result = '';
    if(playerMove === 'scissors') {
        if (computerMove === 'rock') {
        result='You lose.';
      } 
      else if(computerMove === 'paper') {
        result='You Win.';
      }
      else if (computerMove === 'scissors') {
        result='Tie.';
      }   

    } else if (playerMove='paper') {
        if (computerMove === 'rock') {
        result='You Win.';
      } 
      else if(computerMove === 'paper') {
        result='Tie.';
      }
      else if (computerMove === 'scissors') {
        result='You lose.';
      }
    } else if (playerMove='rock') {
     
      if (computerMove === 'rock') {
        result='Tie.';
      } 
      else if(computerMove === 'paper') {
        result='You Lose.';
      }
      else if (computerMove === 'scissors') {
        result='You Win.';
      }
    }

    if(result === 'You Win.') {
      score.wins=score.wins+1;
    }
    else if(result === 'You lose.') {
      score.loses=score.loses+1;
    }
    else if(result === 'Tie.') {
      score.ties=score.ties+1;
    }

   
localStorage.setItem('score', JSON.stringify(score)); // First we are saving score in localstorage, but localstorage only supports strings, so we converted it to the string using JSON.stringify. Now, we are trying to take out from the function using localstorage.getItem //

    
    alert(`You picked ${playerMove}. Computer picked ${computerMove}. ${result}
Score: Losses: ${score.losses}, Wins: ${score.wins}, Ties: ${score.ties}`); 
    
 
}

      function pickComputerMove() {
          const randomNumber = Math.random();
          let computerMove='';
      if (randomNumber >= 0 && randomNumber< 1/3) {
        computerMove = 'rock';
      }
      else if(randomNumber>= 1/3 && randomNumber< 2/3) {
        computerMove = 'paper';
      }
      else if(randomNumber>= 2/3 && randomNumber< 1) {
        computerMove = 'scissors';
      } // Yehn k bhairaxa vane function  name which is pickComputerMove yesma chai jun code repeat hunxa ra space khanxa tellai store garne ani sidhai fucntion name multiple time code garne jasle chai feri purai tesma bhayeko code act garxa.
      return computerMove; /* This is return value, and  nothing will run after return */
      
    }
    </script> 
  </body>
</html> 

